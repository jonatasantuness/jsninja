<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Métodos de Arrays</title>
</head>

<body>
  <script>
    /* -----------------------------------------------------------------------
    Métodos de Arrays
    ------------------------------------------------------------------------- */

    // Adicionando itens no Array pelo indíce

    var arrIndice = ["Banana", "Laranja"];

    arrIndice[2] = "Mamão";

    console.log(arrIndice);

    // Ao adicionar itens pulando indices, os mesmos retornar undefined

    arrIndice[7] = "Uva";

    console.log(arrIndice);

    console.log("Indíce undefined:", arrIndice[4]);

    /* Array.push() --------------------------------------------------------- */

    /* O método push() adiciona um ou mais elementos ao final de um array e retorna o novo comprimento desse array. */

    var arrPush = ["Cão", "Gato"];

    console.log(arrPush.push("Rato")); // length atualizado

    console.log(arrPush); // array já modificado

    /* Array.pop() ---------------------------------------------------------- */

    /* O método pop() remove o último elemento de um array e retorna aquele elemento. */

    var arrPop = ["Monza", "Celta", "Corsa"];

    console.log(arrPop.pop()); // úlitmo item

    console.log(arrPop); // array já modificado

    // Se você chamar pop() em um array vazio, ele retorna o valor undefined.

    console.log([].pop()); // undefined

    /* Array.join() --------------------------------------------------------- */

    /* O método join() junta todos os elementos de uma array (ou um array-like object) em uma string e a retorna. Possui um argumento "Separador", se omitido, os elementos do array são separados com uma vírgula (","). Se o separador for uma string vazia, todos os elementos são juntados sem nenhum caracter entre eles. */

    var arrJoin = ["Fogo", "Água", "Terra", "Ar"];

    console.log(arrJoin.join());

    console.log(arrJoin.join(""));

    /* Array.reverse() ------------------------------------------------------ */

    /* O método reverse() inverte os itens de um array. O primeiro elemento do array se torna o último e o último torna-se o primeiro, mutando o array, e retornando uma referência para o mesmo. */

    var arrRev = ["um", "dois", "três"];

    console.log(arrRev.reverse()); // retorna a refência

    console.log(arrRev); // array modificado

    console.log(arrRev === arrRev.reverse()); // checando referência

    /* Array.sort() --------------------------------------------------------- */

    /* O método sort() ordena os elementos do próprio array e retorna o array. A ordenação não é necessariamente estável. A ordenação padrão é de acordo com a pontuação de código unicode, este método também altera o array de referência. */

    var arrSort = ["Jonatas", "Carlos", "Yara", "Andrea", "Leticia"];

    console.log(arrSort.sort());

    /* Se o parametro é fornecido com uma funcao de comparacao, o array será ordenado de acordo com ela. Considerando que a e b são dois elementos sendo comparados, então a função de comparação tem a seguinte forma:: */

    function comparar(a, b) {
      // "a" é menor que "b" em algum critério de ordenação
      if (a < b) {
        return -1;
      }

      // "a" é maior que "b "em algum critério de ordenação
      if (a > b) {
        return 1;
      }

      // "a" deve ser igual a "b"
      return 0;
    }

    // adaptando a função de comparação para uso em um objeto como exemplo:

    function compararMenorValor(a, b) {
      if (a.valor < b.valor) {
        return -1;
      }

      if (a.valor > b.valor) {
        return 1;
      }

      return 0;
    }

    // a mesma função acima, ainda pode ser abreviada:

    function compararMenorValor(a, b) {
      return a.valor < b.valor ? -1 : 1;
    }

    var arrProducts = [
      {
        nome: "Iphone",
        valor: 3500
      },
      {
        nome: "Xiaomi",
        valor: 1800
      },
      {
        nome: "Samsumg",
        valor: 2300
      }
    ];

    console.log(arrProducts.sort(compararMenorValor));
  </script>
</body>

</html>
